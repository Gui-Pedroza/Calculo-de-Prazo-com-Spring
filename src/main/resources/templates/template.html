<!DOCTYPE html>
<html>

<head>
	<script>
		function sendData() {
			// Get the user input
			var startDate = document.getElementById("start-date").value;
			var daysToAdd = document.getElementById("days-to-add").value;
			var city = document.getElementById("city").value;

			if (city === "") {
				alert("Por favor, selecione uma cidade.");
				return;
			}

			// Send the data to the endpoint using AJAX
			var xhr = new XMLHttpRequest();
			xhr.open("POST", "/calculate" + city, true);
			xhr.setRequestHeader("Content-Type", "application/x-www-form-urlencoded");
			xhr.onreadystatechange = function () {
				if (xhr.readyState === XMLHttpRequest.DONE && xhr.status === 200) {
					// Update the page with the result
					document.getElementById("result").innerHTML = xhr.responseText;
				}
			};
			xhr.send("startDate=" + startDate + "&daysToAdd=" + daysToAdd);
		}
	</script>
	<title>Calculadora de prazos</title>
	<h1>Calculadora de prazos processuais cíveis.</h1>
	<h2>Digite a data de seu prazo inicial e a quantidade de dias do seu prazo</h2>
</head>

<body>
	<div>
		<label for="start-date">Data inicial:</label>
		<input type="date" id="start-date" />
	</div>
	<div class="form-group">
		<label for="city">Escolha a cidade:</label>
		<select id="city" class="form-control" name="city">
			<option value="">Selecione uma cidade</option>
			<option value="ribeirao_preto">Ribeirão Preto</option>
			<option value="campinas">Campinas</option>
			<option value="presidente_prudente">Presidente Prudente</option>
			<option value="marilia">Marília</option>
		</select>
		<p></p>
		<label for="days-to-add">Escolha a quantidade de dias:</label>
		<select id="days-to-add" class="form-control" name="days-to-add">
			<option value="5">5 dias</option>
			<option value="15">15 dias</option>
			<option value="30">30 dias</option>
			<option value="60">60 dias</option>
		</select>
	</div>
	<div>
		<label for="days-to-add">Outra quantidade:</label>
		<input type="number" id="days-to-add" placeholder="Digite o prazo" />
	</div>
	<div>
		<button onclick="sendData()">Calcular</button>
	</div>
	<div id="result"></div>
</body>

</html>